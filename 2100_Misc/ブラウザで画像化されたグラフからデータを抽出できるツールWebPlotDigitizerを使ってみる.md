---
title: ブラウザで画像化されたグラフからデータを抽出できるツールWebPlotDigitizerを使ってみる - Qiita
updated: 2018-03-10 11:40:09Z
created: 2018-03-10 11:40:09Z
source: https://qiita.com/atsaki/items/778d3d5d3afd27b58631
author: xyvyx10
tags:
  - Web
---

# ブラウザで画像化されたグラフからデータを抽出できるツールWebPlotDigitizerを使ってみる

この記事は最終更新日から1年以上が経過しています。
様々な資料ではデータをわかりやすく示すためグラフが用いられています。

グラフで示されているデータを他のデータと比較したり、表示の方法を変更したりしたくなることがありますが、元データが入手できない場合は画像からデータを抽出する必要があります。

目盛りをみながら手で数字にしていくのは大変な作業ですが[WebPlotDigitizer](http://arohatgi.info/WebPlotDigitizer/)というウェブアプリをつかうと比較的簡単にデータを抽出することができます。

## 使い方

WebPlotDigitizerは折れ線グラフ、棒グラフなどに対応しています。
今回は例として折れ線グラフからデータを抽出してみます。基本的な使い方は他のグラフでも同じです。
下記リンク先の「Launch App!」をクリックするとアプリの画面が開きます。

[WebPlotDigitizer - Extract data from plots, images, and maps](http://arohatgi.info/WebPlotDigitizer/)

[(L)](https://camo.qiitausercontent.com/938b52337b6dad87e8e4f6e8dddbde0849647ecb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f66646234316139632d383036322d646366662d306635382d6661666564336132623938632e706e67)

[![WebPlotDigitizer.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f66646234316139632d383036322d646366662d306635382d6661666564336132623938632e706e67.png)](https://camo.qiitausercontent.com/938b52337b6dad87e8e4f6e8dddbde0849647ecb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f66646234316139632d383036322d646366662d306635382d6661666564336132623938632e706e67)

### 画像の読み込み

メニューから「File > Load Image」を選択し、データを抽出したい画像ファイルを開きます。

今回は例として総務省統計局「日本の統計 2015」の「[グラフでみる日本の統計](http://www.stat.go.jp/data/nihon/pdf/15ngraph.pdf)」の「総人口の推移」をキャプチャしたものを使ってみます。

[(L)](https://camo.qiitausercontent.com/71a7c7e384b1a60af630763ab437090cf29671b2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f64303236323033632d393834612d643863642d373932392d3564653438616232316361662e706e67)

[![総人口の推移.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f64303236323033632d393834612d643863642d373932392d3564653438616232316361662e706e67.png)](https://camo.qiitausercontent.com/71a7c7e384b1a60af630763ab437090cf29671b2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f64303236323033632d393834612d643863642d373932392d3564653438616232316361662e706e67)

プロットタイプは「2D (X-Y) Plot」を選択します。

### 軸の設定

画像上での軸の位置を指定するためにX軸の2点、次にY軸の2点をクリックします。

[(L)](https://camo.qiitausercontent.com/9a89d7acbf53c491515ee25bef49c51369e5ab17/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f35383832376637632d303139322d393362392d613534332d6463386635303639633031362e706e67)

[![align_xy_axes01.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f35383832376637632d303139322d393362392d613534332d6463386635303639633031362e706e67.png)](https://camo.qiitausercontent.com/9a89d7acbf53c491515ee25bef49c51369e5ab17/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f35383832376637632d303139322d393362392d613534332d6463386635303639633031362e706e67)

4点クリックすると下図のようになります。

[(L)](https://camo.qiitausercontent.com/fbc7c5dcb02344a3854e71687b4ce05fadad17c3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f31613433616362372d306232642d653730302d666439632d6537623563376137333236362e706e67)

[![align_xy_axes02.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f31613433616362372d306232642d653730302d666439632d6537623563376137333236362e706e67.png)](https://camo.qiitausercontent.com/fbc7c5dcb02344a3854e71687b4ce05fadad17c3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f31613433616362372d306232642d653730302d666439632d6537623563376137333236362e706e67)

終わったら右側の「Complete!」をクリックします。
ポップアップにクリックした点のグラフ上の値を入力します。
例の場合は下図のようになります。（大正9年は1920年、平成32年は2020年）

[(L)](https://camo.qiitausercontent.com/5a9de10904ef40a393d2f6c89778b43fda7ff3d1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f30633964663134612d646239312d623435372d653737652d3063393963646664373163352e706e67)

[![xy_axes_calibration.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f30633964663134612d646239312d623435372d653737652d3063393963646664373163352e706e67.png)](https://camo.qiitausercontent.com/5a9de10904ef40a393d2f6c89778b43fda7ff3d1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f30633964663134612d646239312d623435372d653737652d3063393963646664373163352e706e67)

### データの抽出

#### 手動でデータを抽出する

右側のボタンの「Add Point (A)」が選択された状態でグラフをクリックすると赤いポイントが追加されます。

[![手動でデータを抽出する01.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f64343530356433392d383335382d613030312d616663362d3534613530303133333238352e706e67.png)](https://camo.qiitausercontent.com/3df5f66ade5ce9fc4caa05fc96d4b669e5e91d63/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f64343530356433392d383335382d613030312d616663362d3534613530303133333238352e706e67)

このポイントのデータが抽出されるので、欲しいデータをなぞるようにポイントを追加していきます。

「Adjust Point (S)」で既存のポイントの位置の修正、「Delete Point (D)」でポイントの削除ができます。「Clear Points」は全てのポイントを削除します。

[(L)](https://camo.qiitausercontent.com/c6ae4e4f76dc12797e65ce393ca20979381e0368/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f33643632663566342d363466392d343264632d386534382d3531623637666335316534662e706e67)

[![手動でデータを抽出する02.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f33643632663566342d363466392d343264632d386534382d3531623637666335316534662e706e67.png)](https://camo.qiitausercontent.com/c6ae4e4f76dc12797e65ce393ca20979381e0368/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f33643632663566342d363466392d343264632d386534382d3531623637666335316534662e706e67)

「View Data」をクリックすると各ポイントのデータが表示されます。

[(L)](https://camo.qiitausercontent.com/eb31bca86dc9eac2f5e0cf9823bd2f9c0773c9ad/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f38313438633962352d653238392d313534332d333463362d3034366131326562386163322e706e67)

[![手動でデータを抽出する03.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f38313438633962352d653238392d313534332d333463362d3034366131326562386163322e706e67.png)](https://camo.qiitausercontent.com/eb31bca86dc9eac2f5e0cf9823bd2f9c0773c9ad/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f38313438633962352d653238392d313534332d333463362d3034366131326562386163322e706e67)

#### 自動でデータを抽出する

「Automatic Mode」をクリックしてモードを切り替えます。

[(L)](https://camo.qiitausercontent.com/75d8b97568905d9fbbf773838c5608c6198c2641/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f62616632326432612d303735312d316238662d626232372d3231646333653265363439612e706e67)

[![自動でデータを抽出する01.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f62616632326432612d303735312d316238662d626232372d3231646333653265363439612e706e67.png)](https://camo.qiitausercontent.com/75d8b97568905d9fbbf773838c5608c6198c2641/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f62616632326432612d303735312d316238662d626232372d3231646333653265363439612e706e67)

「Color」の青いところをクリックしてグラフの色を指定します。
Color Pickerを使うと欲しい線の上でクリックするだけで指定することができます。

[(L)](https://camo.qiitausercontent.com/4f88eddab7c40a58a7958d27e6ea6fc532286ac6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f62356430343438312d646638642d343164382d396430642d3331326431643834353039662e706e67)

[![自動でデータを抽出する02.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f62356430343438312d646638642d343164382d396430642d3331326431643834353039662e706e67.png)](https://camo.qiitausercontent.com/4f88eddab7c40a58a7958d27e6ea6fc532286ac6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f62356430343438312d646638642d343164382d396430642d3331326431643834353039662e706e67)

「Run」をクリックすると指定した色に基づいて自動でポイントが追加されます。
例のグラフは同じ色で枠や文字も描画されているので、それらにもポイントが追加されてしまっています。

[(L)](https://camo.qiitausercontent.com/966d64be8eec66a7bff363893b9f529c33b55035/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f36363337376232352d373162362d653436372d343062622d3537306331623330376366662e706e67)

[![自動でデータを抽出する03.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f36363337376232352d373162362d653436372d343062622d3537306331623330376366662e706e67.png)](https://camo.qiitausercontent.com/966d64be8eec66a7bff363893b9f529c33b55035/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f36363337376232352d373162362d653436372d343062622d3537306331623330376366662e706e67)

「Mask」を使うとポイントが追加される領域を制限することができます。
例えば、例のグラフから「総人口」だけ抽出したい場合には「Pen」を選択して、総人口のプロットの上を塗りつぶします。
ペンが太（細）すぎる場合は、上に表示されている「Stroke Width」でペンの太さを調整することができます。

[(L)](https://camo.qiitausercontent.com/20f97308edeb74193c6895b9735b39af015e2951/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f31636133393861612d303636612d316437342d616630312d3033306362666238346236662e706e67)

[![自動でデータを抽出する04.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f31636133393861612d303636612d316437342d616630312d3033306362666238346236662e706e67.png)](https://camo.qiitausercontent.com/20f97308edeb74193c6895b9735b39af015e2951/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f31636133393861612d303636612d316437342d616630312d3033306362666238346236662e706e67)

この状態で「Run」をクリックすると総人口の上にだけポイントが追加されます。
意図しないところにもポイントが追加されてしまう場合はMaskの領域を修正します。

[(L)](https://camo.qiitausercontent.com/bf24e1080dd0dd988afcace559a284a11a08e52e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f39353264653936392d306464642d633933362d306537342d3439336235306139643765642e706e67)

[![自動でデータを抽出する05.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f39353264653936392d306464642d633933362d306537342d3439336235306139643765642e706e67.png)](https://camo.qiitausercontent.com/bf24e1080dd0dd988afcace559a284a11a08e52e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f39353264653936392d306464642d633933362d306537342d3439336235306139643765642e706e67)

「Algorithm」でポイントの追加方法を設定することができます。
例えば、デフォルトの「Averaging Window」でΔX,ΔYの値を小さくするとより密にポイントが追加されます。

[![自動でデータを抽出する06.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f61336465623863372d353362652d316637632d666133642d6536383966623861316433392e706e67.png)](https://camo.qiitausercontent.com/03aa4cf5fe42a52c68338ea5d9431ea650ceb039/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f61336465623863372d353362652d316637632d666133642d6536383966623861316433392e706e67)

[(L)](https://camo.qiitausercontent.com/31054705439f5420bb49db7ded4d5bdeb407a167/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f36396432646134332d633464332d316262372d343030662d3534643863383966353739642e706e67)

[![自動でデータを抽出する07.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f36396432646134332d633464332d316262372d343030662d3534643863383966353739642e706e67.png)](https://camo.qiitausercontent.com/31054705439f5420bb49db7ded4d5bdeb407a167/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f36396432646134332d633464332d316262372d343030662d3534643863383966353739642e706e67)

「X Step」、「X Step w/ Interpolation」は、グラフの単位で追加するポイントの範囲と間隔を指定することができます。
例では1年毎にポイントを追加しています。

[(L)](https://camo.qiitausercontent.com/5a016c9662efbd63e5011ea8c8ad3cb3973e900c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f39303937613835352d626632352d623132322d666565662d3630663830616564313639302e706e67)

[![自動でデータを抽出する08.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f39303937613835352d626632352d623132322d666565662d3630663830616564313639302e706e67.png)](https://camo.qiitausercontent.com/5a016c9662efbd63e5011ea8c8ad3cb3973e900c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f39303937613835352d626632352d623132322d666565662d3630663830616564313639302e706e67)

[(L)](https://camo.qiitausercontent.com/09215fc96fb4fcab272bac730f3f398fc7b65cf0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f39623762383830662d356536392d663762362d323830332d3565666364643334376666382e706e67)

[![自動でデータを抽出する09.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f39623762383830662d356536392d663762362d323830332d3565666364643334376666382e706e67.png)](https://camo.qiitausercontent.com/09215fc96fb4fcab272bac730f3f398fc7b65cf0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f39623762383830662d356536392d663762362d323830332d3565666364643334376666382e706e67)

データを確認すると1年毎にポイントが追加されていることがわかります。

[(L)](https://camo.qiitausercontent.com/8fac17d29c7d933db252a38e53e56329c8b90807/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f37386430323962312d653963302d666135392d313064652d3930383635653737386162642e706e67)

[![自動でデータを抽出する10.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f37386430323962312d653963302d666135392d313064652d3930383635653737386162642e706e67.png)](https://camo.qiitausercontent.com/8fac17d29c7d933db252a38e53e56329c8b90807/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f37386430323962312d653963302d666135392d313064652d3930383635653737386162642e706e67)

配置されたポイントをみるとグラフ右側の点線部分については、ポイントがうまく配置されていないことがわかります。
パラメータやアルゴリズムを調整することもできますが、今回の例程度であれば「Manual Mode」に切り替えてポイントを追加しても良いと思います。

### 抽出したデータの加工

抽出したデータの桁数の設定や並べ替えを行うことができます。

[(L)](https://camo.qiitausercontent.com/9ac7433db01457c0adc04af2c6b8696c8c0c9b83/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f38326335383639362d383161372d666237342d306236352d3732353966656361306532662e706e67)

[![抽出したデータの加工01.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f38326335383639362d383161372d666237342d306236352d3732353966656361306532662e706e67.png)](https://camo.qiitausercontent.com/9ac7433db01457c0adc04af2c6b8696c8c0c9b83/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f38326335383639362d383161372d666237342d306236352d3732353966656361306532662e706e67)

「Download .CSV」をクリックするとCSVファイルをダウンロードできます。
「Graph in Plotly」をクリックすると[Plotly](https://plot.ly/)にデータを送りグラフを描くことができます。

[(L)](https://camo.qiitausercontent.com/0f33456502230a03cd547e32bde82351f6e828eb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f65363736306639332d623566372d356363302d656461392d3036623031383765643564392e706e67)

[![抽出したデータの加工02.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f65363736306639332d623566372d356363302d656461392d3036623031383765643564392e706e67.png)](https://camo.qiitausercontent.com/0f33456502230a03cd547e32bde82351f6e828eb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f65363736306639332d623566372d356363302d656461392d3036623031383765643564392e706e67)

このデータについては元データが公開されているので、重ねてプロットしてみると良く一致していることが確認できます。

[(L)](https://camo.qiitausercontent.com/0021e96d02ba4fcba079fd48f29997ed74c7ddb0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f63343564333165322d303161632d343764382d353035352d6634306136386134643035662e706e67)

[![newplot.png](../_resources/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f63343564333165322d303161632d343764382d353035352d6634306136386134643035662e706e67.png)](https://camo.qiitausercontent.com/0021e96d02ba4fcba079fd48f29997ed74c7ddb0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f31353131342f63343564333165322d303161632d343764382d353035352d6634306136386134643035662e706e67)

## 参考

公式サイトにチュートリアルやドキュメントがあります。動画をみると使い方を理解しやすいと思います。
[WebPlotDigitizer](http://arohatgi.info/WebPlotDigitizer/)