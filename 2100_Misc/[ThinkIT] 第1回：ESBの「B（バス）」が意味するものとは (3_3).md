---
title: '[ThinkIT] 第1回：ESBの「B（バス）」が意味するものとは (3/3)'
updated: 2016-12-15 13:10:24Z
created: 2016-12-15 13:10:24Z
source: https://thinkit.co.jp/cert/article/0703/7/1/3.htm
tags:
  - SI
---

# [ThinkIT] 第1回：ESBの「B（バス）」が意味するものとは (3/3)

![spacer.gif](../_resources/spacer.gif)

|     |     |
| --- | --- |
| ![hot_pr1.gif](../_resources/hot_pr1.gif) |     |
| ![spacer.gif](../_resources/spacer.gif) |
| ![hot_pr1.gif](../_resources/hot_pr1.gif) |     |

![spacer.gif](../_resources/spacer.gif)
![SOA/ESB](../_resources/5c05be7a4b884cdf43a316cbebd0a50b.jpg)

|     |
| --- |
| SOA/ESBの真の姿とは |
| 第１回：ESBの「B（バス）」が意味するものとは<br>著者：[Fiorano Software  青島 茂](https://thinkit.co.jp/cert/article/0703/7/1/3.htm#tyosya)   2007/3/26 |

[前のページ](https://thinkit.co.jp/cert/article/0703/7/1/2.htm)  [1](https://thinkit.co.jp/free/article/0703/7/1/)  [2](https://thinkit.co.jp/cert/article/0703/7/1/2.htm)  3

![spacer.gif](../_resources/spacer.gif)
バス形式によるESBの登場

   「ハブ&スポーク」の一極集中の問題を解決するために2000年から2001年にかけて生まれてきたのが、バス形式をトポロジーとするESBです。日本では、2004年に入ってから国内外のベンダーが「ESB」と謳った製品の販売を開始したり、ESB製品の開発計画を発表しています。

バス形式では、図3で示すように、データやコントロールの流れが一箇所に集中するポイントがありません。
* * *

![バス形式によるインテグレーション](../_resources/3-1.gif)
図3：バス形式によるインテグレーション

   メッセージやデータは、地理的／組織（企業内の部門や拠点、外部の取引業者など）的にも分散稼動しているアプリケーションすべてにまたがって「敷設」されている経路上を流れていきます。

この場合の「敷設」とはもちろん比喩的なものになります。ハードウェアバスのように「目に見える形で一本のバスが存在する」というわけではありません。ESBにおけるバスはあくまで論理的なものです。重要な点は、1本のバスが関係する拠点のすべてに（論理的ではありますが）またがっていることです。

バストポロジーによらないESB製品
   現在市場にでているESB製品は、その実装方法から次のように大別できます。

- EAI製品の上に実装したもの
- アプリケーションサーバ製品の上に実装したもの
- ERPサーバの上に実装したもの
- MOM製品の上に実装したもの
- 既存製品をベースとしないもの

表5：市場に存在するESB製品

   ここで、EAI製品やアプリケーションサーバ製品、MOM製品といったミドルウェアは「ハブ&スポーク」に基づくものであることを思い出してください。ESBをこれらの製品の上に実装するということは、ミドルウェアのサーバと同様にESBもまたハブとして機能することを意味します。

図4に示した例では、拠点Aに置かれたESB／サーバがハブとなっており、各拠点のアプリケーションからのデータがここに集中しています。このような形態のESBでは、バス形式とすることの意義の大半を失ってしまっています。

![既存ミドルウェア上に実装したESB](../_resources/4.gif)
図4：既存ミドルウェア上に実装したESB
まとめ

   1990年代に、それまでのアプリケーションインテグレーションの方法を刷新する目的で登場してきたミドルウェア製品（アプリケーションサーバ、EAI、MOM、TPモニタなど）やERPに実装されたインテグレーション機能は、「インテグレーションのスパゲティ」状態を解消しました。

しかしその一方で、アプリケーション間のリンクを統一するために採用した「ハブ&スポーク」形態によって、一極集中の問題を抱えることとなってしまいました。この問題を解決するために、バス形態によるESBが提唱されました。

ところが、ESBを謳った製品のいくつかは、旧来のミドルウェア製品の上に実装されているため、ESBの誕生の理由となったバス形式の利点を最初から失ってしまっています。

今回のポイントは、次の点となります。
ESBのもっとも基本的で本来的な特徴は、そのバス形式にある
   次回は、ESBが備えておくべき機能について考察します。

[前のページ](https://thinkit.co.jp/cert/article/0703/7/1/2.htm)  [1](https://thinkit.co.jp/free/article/0703/7/1/)  [2](https://thinkit.co.jp/cert/article/0703/7/1/2.htm)  3

![spacer.gif](../_resources/spacer.gif)

|     |     |
| --- | --- |
| ![Fiorano Software, Inc. 日本オフィス ジャパン オペレーション マネージャ 青島 茂](../_resources/tyosya.gif) | 著者プロフィール<br>**Fiorano Software, Inc.<br>日本オフィス ジャパン オペレーション マネージャ<br>青島 茂<br>**SOA/ESBの分野に2003年1月からたずさわる。2005年3月にFiorano Softwareの日本オフィスを開設し、現在SOA/ESB製品の国内市場への普及に専心している。 |

![spacer.gif](../_resources/spacer.gif)

*ページ: 2*
![spacer.gif](../_resources/spacer.gif)

|     |     |
| --- | --- |
| ![hot_pr1.gif](../_resources/hot_pr1.gif) |     |
| ![spacer.gif](../_resources/spacer.gif) |
| ![hot_pr1.gif](../_resources/hot_pr1.gif) |     |

![spacer.gif](../_resources/spacer.gif)
![SOA/ESB](../_resources/5c05be7a4b884cdf43a316cbebd0a50b.jpg)

|     |
| --- |
| SOA/ESBの真の姿とは |
| 第１回：ESBの「B（バス）」が意味するものとは<br>著者：[Fiorano Software  青島 茂](https://thinkit.co.jp/cert/article/0703/7/1/3.htm#tyosya)   2007/3/26 |

[前のページ](https://thinkit.co.jp/free/article/0703/7/1/)  [1](https://thinkit.co.jp/free/article/0703/7/1/)  2  [3](https://thinkit.co.jp/cert/article/0703/7/1/3.htm)  [次のページ](https://thinkit.co.jp/cert/article/0703/7/1/3.htm)

![spacer.gif](../_resources/spacer.gif)
ERPの登場

   1980年代の後半になると、ERPシステムが登場してきます。ERPシステムの重要なコンセプトの1つに、企業内のデータをすべて一元的に管理し、ERP内の様々なモジュール（財務モジュールや生産管理モジュールなど）がこれにアクセスすることで処理を行うというものがあります。

これは、同じ情報を複数のシステムによって保持および処理していた冗長的な従来の方法を改善し、最適な情報の処理プロセス（業務プロセス）をERP内にあらかじめ組み込んでユーザに提供することを目指したものでした。

日本ではこれを「大福帳システム」と呼び、「BPR（ビジネスプロセスリエンジニアリング」の掛け声と共に、業務プロセスの改善のための手段としてERPの導入が進められました。

しかしながら、ERPシステム単独で企業内の業務をすべてカバーすることは難しい面もあります。ERPを使用してきた結果、「ERPは経営層が必要とするビジネスデータを生成することには非常に役立つが、業務の各現場をサポートするシステムではない」という声があがってきます。

ERP以外にも、SCM、CRM、倉庫管理システムなど、多種多様なパッケージアプリケーションが市場に登場する理由の一端はこのあたりにもあるといえるでしょう。
* * *

EAIミドルウェアの登場

   業務の実務レベルでの担い手である営業マンや配送センター作業者など、様々な職種に携わる人々の日々の業務をサポートすることを目的に、CRM、SCM、倉庫管理システム（Warehouse Management）、POSシステム、製造ライン制御システムなど、多種多様なシステムがERPとは別に運用されています。

その中では当然のように、日々接しているこれらのシステムとERPとを結びつけ、企業全体としての業務効率を目指そうという要求が生じてきます。この要求を満たすために1990年代に登場したものが、EAI（Enterprise Application Integration）です。

このEAI実現するための方法には、大きく分けて次の2つがあります。

- ERPにEAI機能を持たせたもの（ERPを中心にデータの集配信を行うことが目的）
- EAI専用の製品（アプリケーション間のデータ交換を行うことが目的で、ERPを中心としない）

表2：EAIを実現する方法

   ERPに実装されたEAI機能は、SAP R/3のIDOC/ALEに代表されるもので、各アプリケーションシステムからERPにデータを集約したり、ERPで生成／保持されているデータを各アプリケーションに送信するために使用されます。

一方、EAI専用の製品ではERPをシステムの中心に置いていないため、アプリケーション間（例えば、CRMと倉庫管理システム）ではERPを介さずにデータ送受信を行うことができます。どちらの方式にしてもそのトポロジー的な形態は共通しており、図2のようにいわゆる「ハブ&スポーク」の形態となっています。

![ハブ&スポークの形態](../_resources/2-1.gif)
図2：ハブ&スポークの形態

   図2からもわかるように、中央の「ハブ」に各アプリケーションが「スポーク」のように集中しています。こうすることで、アプリケーション同士を結ぶリンクの数は、初期のスパゲティ状態と比べると、大幅に減少させることができました。

しかしながら、すべてのデータ送受信がハブに集中することでボトルネックとなるなど、以下のような欠点もありました。

- ハブにデータが集中するため、ハブを稼動させるハードウェアに多額な投資が必要
- ハブにすべてを集中させるため、大規模インテグレーションや大容量／大量データの通信に不向き
- ハブに障害が発生すると、すべてのアプリケーション間の通信が停止する
- ハブに独自のプロトコルを採用していたため、各アプリケーションとの通信にはプロトコルの違いを吸収するアダプタが必要となる（アダプタの価格は、非常に高価）

表3：ハブ&スポーク形態で考えられるデメリット
   その後、標準規格に準拠したプロトコルの採用により高価なアダプタの必要性は減少しましたが、データや障害の一極集中の問題は残されたままとなっています。

なお、ハブ&スポークの形態を採用しているミドルウェアとして、次のようなものがあげられます。

- EAI専用製品
- MOM（メッセージ指向ミドルウェア）、メッセージキュー製品、CORBA対応メッセージング製品
- TPモニタ
- アプリケーションサーバ
- ERPサーバ上に実装されたEAIコンポーネント

表4：ハブ&スポーク形態を採用するミドルウェア

[前のページ](https://thinkit.co.jp/free/article/0703/7/1/)  [1](https://thinkit.co.jp/free/article/0703/7/1/)  2  [3](https://thinkit.co.jp/cert/article/0703/7/1/3.htm)  [次のページ](https://thinkit.co.jp/cert/article/0703/7/1/3.htm)

![spacer.gif](../_resources/spacer.gif)

|     |     |
| --- | --- |
| ![Fiorano Software, Inc. 日本オフィス ジャパン オペレーション マネージャ 青島 茂](../_resources/tyosya.gif) | 著者プロフィール<br>**Fiorano Software, Inc.<br>日本オフィス ジャパン オペレーション マネージャ<br>青島 茂<br>**SOA/ESBの分野に2003年1月からたずさわる。2005年3月にFiorano Softwareの日本オフィスを開設し、現在SOA/ESB製品の国内市場への普及に専心している。 |

![spacer.gif](../_resources/spacer.gif)